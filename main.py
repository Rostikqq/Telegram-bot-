time_ways = ["–ì–æ–¥", "–í–µ–∫"]

main_menu_buttons = ['–ü–æ–¥–æ–±—Ä–∞—Ç—å –Ω–æ–≤—É—é –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É üìö', 'üè´ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—É—é —à–∫–æ–ª—å–Ω—É—é üìî']

yesorno = ['–î–∞!', '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ']

yesorexit = ['–í–µ—Ä–Ω—É—Ç—å—Å—è', '–ù–µ—Ç, –ø–æ–π–¥—É —á–∏—Ç–∞—Ç—å']

chisla = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']

list_choose_how_to_search = ['–ü–æ –∞–≤—Ç–æ—Ä—É üñã', '–ü–æ –≥–æ–¥–∞–º ‚è±', '–ü–æ –∂–∞–Ω—Ä—É üìï']

vernutsa = ['–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é']

exitout = ["–ï—â—ë?", "–í–µ—Ä–Ω—É—Ç—å—Å—è", "–í—ã–π—Ç–∏"]

school_searching = ['1-5', '6-9', '10-11']

centuaries = ["XX", 'XIX', 'XVIII']

commandstart = ['/start']

jounre_ways = ["–≠–ø–æ—Å", "–î—Ä–∞–º–∞", "–õ–∏—Ä–∏–∫–∞"]

jounre_epos_types = ["–†–æ–º–∞–Ω", "–†–∞—Å—Å–∫–∞–∑", "–ü–æ–≤–µ—Å—Ç—å", '–°–∫–∞–∑–∫–∞']
jounre_drama_types = ["–î—Ä–∞–º–∞", "–ö–æ–º–µ–¥–∏—è"]

school_literature_for_high = ['¬´–í–û–ô–ù–ê –ò –ú–ò–†¬ª', '¬´–ú–ê–°–¢–ï–† –ò –ú–ê–†–ì–ê–†–ò–¢–ê¬ª', '¬´–ö–†–´–ñ–û–í–ù–ò–ö¬ª', '¬´–ì–û–°–ü–û–î–ò–ù –ò–ó –°–ê–ù-–§–†–ê–ù–¶–ò–°–ö–û¬ª', '¬´–ß–ò–°–¢–´–ô –ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö¬ª', '¬´–¢–ï–ú–ù–´–ï –ê–õ–õ–ï–ò¬ª', '¬´–ò–°–¢–û–†–ò–Ø –û–î–ù–û–ì–û –ì–û–†–û–î–ê¬ª', '¬´–°–¢–ê–†–£–•–ê –ò–ó–ï–†–ì–ò–õ–¨¬ª', '¬´–ú–ê–ö–ê–† –ß–£–î–†–ê¬ª', '¬´–ù–û–°¬ª', '¬´–ù–ï–í–°–ö–ò–ô –ü–†–û–°–ü–ï–ö–¢¬ª', '¬´–û–¢–¶–´ –ò –î–ï–¢–ò¬ª', '¬´–ü–†–ï–°–¢–£–ü–õ–ï–ù–ò–ï –ò –ù–ê–ö–ê–ó–ê–ù–ò–ï¬ª', '¬´–î–í–ï–ù–ê–î–¶–ê–¢–¨¬ª']

school_literature_for_middle = ['¬´–•–ê–î–ñ–ò-–ú–£–†–ê–¢¬ª', '¬´–ö–ê–í–ö–ê–ó–°–ö–ò–ô –ü–õ–ï–ù–ù–ò–ö¬ª', '¬´–î–£–ë–†–û–í–°–ö–ò–ô¬ª', '¬´–ß–ï–õ–û–í–ï–ö –í –§–£–¢–õ–Ø–†–ï¬ª', '¬´–ò–û–ù–´–ß¬ª', '¬´–•–ê–ú–ï–õ–ï–û–ù¬ª', '¬´–ö–ê–ü–ò–¢–ê–ù–°–ö–ê–Ø –î–û–ß–ö–ê¬ª', '¬´–î–ê–ú–ê –° –°–û–ë–ê–ß–ö–û–ô¬ª', '¬´–í–ò–®–ù–ï–í–´–ô –°–ê–î¬ª', '¬´–†–ï–í–ò–ó–û–†¬ª', '¬´–®–ò–ù–ï–õ–¨¬ª', '¬´–ú–ï–†–¢–í–´–ï –î–£–®–ò¬ª', '¬´–ú–£–ú–£¬ª', '¬´–ê–°–Ø¬ª', '¬´–ï–í–ì–ï–ù–ò–ô –û–ù–ï–ì–ò–ù¬ª', '¬´–ì–ï–†–û–ô –ù–ê–®–ï–ì–û –í–†–ï–ú–ï–ù–ò¬ª', '¬´–¢–ê–†–ê–° –ë–£–õ–¨–ë–ê¬ª', '¬´–ù–ï–î–û–†–û–°–õ–¨¬ª', '¬´–¢–û–õ–°–¢–´–ô –ò –¢–û–ù–ö–ò–ô¬ª', '¬´–°–ú–ï–†–¢–¨ –ß–ò–ù–û–í–ù–ò–ö–ê¬ª', '¬´–°–¢–ê–ù–¶–ò–û–ù–ù–´–ô –°–ú–û–¢–†–ò–¢–ï–õ–¨¬ª', '¬´–ë–ê–†–´–®–ù–Ø-–ö–†–ï–°–¢–¨–Ø–ù–ö–ê¬ª', '¬´–ú–¶–´–†–ò¬ª', '¬´–ü–ï–°–ù–Ø –ü–†–û –¶–ê–†–Ø –ò–í–ê–ù–ê –í–ê–°–ò–õ–¨–ï–í–ò–ß–ê, –ú–û–õ–û–î–û–ì–û –û–ü–†–ò–ß–ù–ò–ö–ê –ò –£–î–ê–õ–û–ì–û –ö–£–ü–¶–ê –ö–ê–õ–ê–®–ù–ò–ö–û–í–ê¬ª', '¬´–ú–ï–î–ù–´–ô –í–°–ê–î–ù–ò–ö¬ª', '¬´–†–£–°–õ–ê–ù –ò –õ–Æ–î–ú–ò–õ–ê¬ª']

school_literature_for_lower = ['¬´–ü–û–í–ï–°–¢–¨ –û –¢–û–ú, –ö–ê–ö –û–î–ò–ù –ú–£–ñ–ò–ö –î–í–£–• –ì–ï–ù–ï–†–ê–õ–û–í –ü–†–û–ö–û–†–ú–ò–õ¬ª', '¬´–ü–†–ï–ú–£–î–†–´–ô –ü–ò–°–ö–ê–†–¨¬ª', '¬´–î–ò–ö–ò–ô –ü–û–ú–ï–©–ò–ö¬ª']

not_school_literature = ['¬´–ü–†–û–ü–ê–õ–ê –°–û–í–ï–°–¢–¨¬ª', '¬´–ú–ï–î–í–ï–î–¨ –ù–ê –í–û–ï–í–û–î–°–¢–í–ï¬ª', '¬´–ö–û–ù–Ø–ì–ê¬ª', '¬´–°–ê–ú–û–û–¢–í–ï–†–ñ–ï–ù–ù–´–ô –ó–ê–Ø–¶¬ª', '¬´–ë–û–ì–ê–¢–´–†–¨¬ª', '¬´–î–£–†–ê–ö¬ª', '¬´–õ–ò–ë–ï–†–ê–õ¬ª', '¬´–ö–ò–°–ï–õ–¨¬ª']

authors = ['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω', "–ú–∏—Ö–∞–∏–ª –õ–µ—Ä–º–æ–Ω—Ç–æ–≤", "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π", "–î–µ–Ω–∏—Å –§–æ–Ω–≤–∏–∑–∏–Ω", "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ë–ª–æ–∫", "–ú–∞–∫—Å–∏–º –ì–æ—Ä—å–∫–∏–π",
           "–ò–≤–∞–Ω –ë—É–Ω–∏–Ω", "–ò–≤–∞–Ω –¢—É—Ä–≥–µ–Ω–µ–≤", "–§–µ–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", "–ê–Ω—Ç–æ–Ω –ß–µ—Ö–æ–≤", "–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤", "–ù–∏–∫–æ–ª–∞–π –ì–æ–≥–æ–ª—å",
           "–ú–∏—Ö–∞–∏–ª –°–∞–ª—Ç—ã–∫–æ–≤-–©–µ–¥—Ä–∏–Ω"]

amount_of_starts = 0

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ñ–∞–π–ª—ã (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥, —Ç–æ –µ—Å—Ç—å –∏—Ö —Å–ø–∏—Å–æ–∫ –∏ –ø–∏—Ç–æ–Ω–æ–≤—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ random –∏ telebot)
from books_list import list_of_all_books
import telebot
from telebot import types
import random

# —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

token = "5249526378:AAH68cxVSnbBSFlfYmi0L0AJsW-G-gIkdj4"

bot = telebot.TeleBot(token)

# –ë–ª–æ–∫ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /start + –≤—ã–±–æ—Ä –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

@bot.message_handler(commands=["start"])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)


    for button in main_menu_buttons:
        markup.add(types.KeyboardButton(button))

    bot.send_message(message.chat.id, '–ü—Ä–∏–≤–µ—Ç, <i>{0.first_name}</i>!‚ú® –Ø –±–æ—Ç –ø–æ –ø–æ–¥–±–æ—Ä—É —Ä—É—Å—Å–∫–æ–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã!\n\n'
                                        '–Ø –ø–æ–º–æ–≥–∞—é –ª—é–¥—è–º –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–æ–≤–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–æ–π –∏ –æ–±—Ä–∞—â–∞—é –∏—Ö –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –≤ —à–∫–æ–ª—å–Ω—ã–µ –≥–æ–¥—ã –∫–Ω–∏–≥–∏. –° —á–µ–≥–æ –Ω–∞—á–Ω–µ–º?'.format(message.from_user),
                    reply_markup=markup, parse_mode='HTML')

def start1(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)


    for button in main_menu_buttons:
        markup.add(types.KeyboardButton(button))

    bot.send_message(message.chat.id, '–ß—Ç–æ –¥–∞–ª—å—à–µ?'.format(message.from_user),
                    reply_markup=markup, parse_mode='HTML')

# –ë–ª–æ–∫ —Å–∞–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—Å–∞—Ü–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–∏–∏ —Å –≤—ã–±–æ—Ä–æ–º
@bot.message_handler(content_types=['text'])
def choose_how_to_search(message):

    list_choose_how_to_search = ['–ü–æ –∞–≤—Ç–æ—Ä—É üñã', '–ü–æ –≥–æ–¥–∞–º ‚è±', '–ü–æ –∂–∞–Ω—Ä—É üìï']


    if message.text == '–ü–æ–¥–æ–±—Ä–∞—Ç—å –Ω–æ–≤—É—é –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É üìö':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button0 in list_choose_how_to_search:
            markup.add(types.KeyboardButton(button0))

        printmessage = bot.send_message(message.chat.id, '{0.first_name}, –∫–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –±—É–¥–µ–º –ø–æ–¥–±–∏—Ä–∞—Ç—å –Ω–æ–≤—É—é –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É?\n\n'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(printmessage, choosing_way_in_each_ways)

    elif message.text == 'üè´ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—É—é —à–∫–æ–ª—å–Ω—É—é üìî':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button0 in school_searching:
            markup.add(types.KeyboardButton(button0))

        printmessage = bot.send_message(message.chat.id,
                                        '{0.first_name}, –≤ –∫–∞–∫–æ–º –∫–ª–∞—Å—Å–µ –≤—ã —Ñ–∏–ª–æ–Ω–∏–ª–∏ –Ω–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ?\n\n'.format(
                                            message.from_user), reply_markup=markup)

        bot.register_next_step_handler(printmessage, which_class_you_want_to_search)

    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button0 in main_menu_buttons:
            markup.add(types.KeyboardButton(button0))

        printmessage = bot.send_message(message.chat.id,
                                        '{0.first_name}, –∫–∞–∫-—Ç–æ –º—ã –Ω–µ —Å —Ç–æ–≥–æ –Ω–∞—á–∞–ª–∏.\n–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â—ë —Ä–∞–∑!'.format(
                                            message.from_user), reply_markup=markup)

        bot.register_next_step_handler(printmessage, choose_how_to_search)





#####################################################
# –ë–ª–æ–∫ —Å –≤—ã–±–æ—Ä–æ–º "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—É—é —à–∫–æ–ª—å–Ω—É—é"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∞—Å—Å–∞
def which_class_you_want_to_search(message):
    if message.text == '1-5':

        bot.send_message(message.chat.id, f'–í —Ü–µ–ª–æ–º, –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –≤—ã –Ω–µ —É–ø—É—Å—Ç–∏–ª–∏.\n–ü–æ—á–∏—Ç–∞–π—Ç–µ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É –ø–æ—Å–µ—Ä—å–µ–∑–Ω–µ–µ.\n–ù–æ –µ—Å–ª–∏ –≤–∞–º —Å–∏–ª—å–Ω–æ —Ö–æ—á–µ—Ç—Å—è: '.format(message.from_user))

        for year_in_school in list_of_all_books:
            year_in_school = year_in_school.split('%')
            if '–°–ö–ê–ó–ö–ê' in year_in_school[-1] and year_in_school[0] not in not_school_literature:
                bot.send_message(message.chat.id, f'–ù–∞–∑–≤–∞–Ω–∏–µ: {year_in_school[0]} –ê–≤—Ç–æ—Ä: {year_in_school[1]} –ì–æ–¥: {year_in_school[2]}\n---------------------------------------')

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button2 in yesorexit:
            markup.add(types.KeyboardButton(button2))

        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                               reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)
    elif message.text == '6-9':

        for schoolyearforsearching in list_of_all_books:

            schoolyearforsearching = schoolyearforsearching.split('%')
            if schoolyearforsearching[0] in school_literature_for_middle:

                str_for_sending_school = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {schoolyearforsearching[0]} –ê–≤—Ç–æ—Ä: {schoolyearforsearching[1]} –ì–æ–¥: {schoolyearforsearching[2]}'
                list_for_sending_school.append(str_for_sending_school)

        if len(list_for_sending_school) <= 5:
            for schoolbooks_for_sending in list_for_sending_school:
                bot.send_message(message.chat.id,
                                 f'{schoolbooks_for_sending}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button2 in yesorexit:
                markup.add(types.KeyboardButton(button2))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_school) > 5:

            having_schoolamount = len(list_for_sending_school)


            for schoolnumber in range(having_schoolamount):
                having_data_amount_school.append(schoolnumber)

            for random_schoolamount in range(1, 6):
                random_schoolnumber = random.choice(having_data_amount_school)
                having_data_amount_school.remove(random_schoolnumber)

                bot.send_message(message.chat.id, f'{list_for_sending_school[random_schoolnumber]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_middle_school)


    elif message.text == '10-11':

        for schoolyearforsearching in list_of_all_books:

            schoolyearforsearching = schoolyearforsearching.split('%')
            if schoolyearforsearching[0] in school_literature_for_high:
                str_for_sending_school = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {schoolyearforsearching[0]} –ê–≤—Ç–æ—Ä: {schoolyearforsearching[1]} –ì–æ–¥: {schoolyearforsearching[2]}'
                list_for_sending_school.append(str_for_sending_school)

        if len(list_for_sending_school) <= 5:
            for schoolbooks_for_sending in list_for_sending_school:
                bot.send_message(message.chat.id,
                                 f'{schoolbooks_for_sending}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button2 in yesorexit:
                markup.add(types.KeyboardButton(button2))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_school) > 5:

            having_schoolamount = len(list_for_sending_school)

            for schoolnumber in range(having_schoolamount):
                having_data_amount_school.append(schoolnumber)

            for random_schoolamount in range(1, 6):
                random_schoolnumber = random.choice(having_data_amount_school)
                having_data_amount_school.remove(random_schoolnumber)

                bot.send_message(message.chat.id, f'{list_for_sending_school[random_schoolnumber]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_high_school)
    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button2 in school_searching:
            markup.add(types.KeyboardButton(button2))

        msd = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–Ω–æ–ø–∫–∞–º–∏:'.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, which_class_you_want_to_search)

# –¶–∏–∫–ª —Å –µ—â—ë –¥–ª—è —Å—Ç–∞—Ä—à–µ–π —à–∫–æ–ª—ã
def cycle_for_high_school(message):

    if message.text == '–î–∞!':

        if len(having_data_amount_school) > 5:

            for random_schoolamount in range(1, 6):
                random_schoolnumber = random.choice(having_data_amount_school)
                having_data_amount_school.remove(random_schoolnumber)

                bot.send_message(message.chat.id, f'{list_for_sending_school[random_schoolnumber]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button994 in yesorno:
                markup.add(types.KeyboardButton(button994))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_high_school)

        elif len(having_data_amount_school) <=5:

            for known_schoolnumbers in having_data_amount_school:

                bot.send_message(message.chat.id, f'{list_for_sending_school[known_schoolnumbers]}')

            list_for_sending_school.clear()
            having_data_amount_school.clear()

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button994 in yesorexit:
                markup.add(types.KeyboardButton(button994))

            msd = bot.send_message(message.chat.id, '–ë–æ–ª—å—à–µ —à–∫–æ–ª—å–Ω—ã—Ö –∫–Ω–∏–≥ –¥–ª—è —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –Ω–µ—Ç!\n–ï—Å–ª–∏ –≤—ã –≤—Å—ë –ø—Ä–æ—á–∏—Ç–∞–ª–∏ ‚Äì –≤—ã –º–æ–ª–æ–¥–µ—Ü!\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_school.clear()
        having_data_amount_school.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button995 in yesorexit:
            markup.add(types.KeyboardButton(button995))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button994 in yesorno:
            markup.add(types.KeyboardButton(button994))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_high_school)

# –¶–∏–∫–ª —Å –µ—â—ë –¥–ª—è —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã
def cycle_for_middle_school(message):


    if message.text == '–î–∞!':

        if len(having_data_amount_school) > 5:

            for random_schoolamount in range(1, 6):
                random_schoolnumber = random.choice(having_data_amount_school)
                having_data_amount_school.remove(random_schoolnumber)

                bot.send_message(message.chat.id, f'{list_for_sending_school[random_schoolnumber]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button995 in yesorno:
                markup.add(types.KeyboardButton(button995))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_middle_school)

        elif len(having_data_amount_school) <= 5:

            for known_schoolnumbers in having_data_amount_school:

                bot.send_message(message.chat.id, f'{list_for_sending_school[known_schoolnumbers]}')

            list_for_sending_school.clear()
            having_data_amount_school.clear()

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button995 in yesorexit:
                markup.add(types.KeyboardButton(button995))

            msd = bot.send_message(message.chat.id, '–ë–æ–ª—å—à–µ —à–∫–æ–ª—å–Ω—ã—Ö –∫–Ω–∏–≥ –¥–ª—è —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –Ω–µ—Ç!\n–ï—Å–ª–∏ –≤—ã –≤—Å—ë –ø—Ä–æ—á–∏—Ç–∞–ª–∏ ‚Äì –≤—ã –º–æ–ª–æ–¥–µ—Ü!\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_school.clear()
        having_data_amount_school.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        list_for_sending_school.clear()
        having_data_amount_school.clear()

        for button995 in yesorexit:
            markup.add(types.KeyboardButton(button995))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button995 in yesorno:
            markup.add(types.KeyboardButton(button995))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_middle_school)

# –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ —Å –≤—ã–±–æ—Ä–æ–º "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—É—é —à–∫–æ–ª—å–Ω—É—é"
#####################################################





###############################################
# –ë–ª–æ–∫ —Å –≤—ã–±–æ—Ä–æ–º "–ü–æ–¥–æ–±—Ä–∞—Ç—å –Ω–æ–≤—É—é –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ —Ç–∏–ø—É –∏ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—Å–∞—Ü–∏—è
def choosing_way_in_each_ways(message):
    if message.text == '–ü–æ –∞–≤—Ç–æ—Ä—É üñã':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button1 in authors:
            markup.add(types.KeyboardButton(button1))

        msd = bot.send_message(message.chat.id, '–£–∫–∞–∂–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞: '.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_authors)

    elif message.text == '–ü–æ –≥–æ–¥–∞–º ‚è±':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button1 in time_ways:
            markup.add(types.KeyboardButton(button1))

        msd = bot.send_message(message.chat.id, '–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ –≥–æ–¥–∞–º –∏–ª–∏ –≤–µ–∫–∞–º? '.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_time_of_book)

    elif message.text == '–ü–æ –∂–∞–Ω—Ä—É üìï':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button1 in jounre_ways:
            markup.add(types.KeyboardButton(button1))

        msd = bot.send_message(message.chat.id, '–ö–∞–∫–æ–π —Ä–æ–¥ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –≤–∞–º –±–ª–∏–∂–µ?'.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, type_of_literature)

    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button2 in list_choose_how_to_search:
            markup.add(types.KeyboardButton(button2))

        msd = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∞–º–∏:\n–¢–∞–∫ –≤–µ–¥—å —É–¥–æ–±–Ω–µ–µ!'.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, choosing_way_in_each_ways)


######################################
# –í—Å–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–Ω–∏–≥
list_for_sending_school = []
having_data_amount_school = []

list_for_sending = []
having_data_amount = []

list_for_sending_dramatype = []
having_data_amount_dramatype = []

list_for_sending_epos = []
having_data_amount_epos = []

list_for_sending_jounres = []
having_data_amount_jounres = []

list_for_sending_years = []
having_data_amount_years = []

year_amounts = []
#########################################



#########################################
# –ü–æ–∏—Å–∫ –ø–æ –∞–≤—Ç–æ—Ä–∞–º
def finding_by_authors(message):

    if message.text in authors:
        author = message.text
        author = author.upper()

        for authorforsearching in  list_of_all_books:

            authorforsearching = authorforsearching.split('%')
            if author in authorforsearching[1] and authorforsearching[0] not in school_literature_for_middle and authorforsearching[0] not in school_literature_for_high and authorforsearching[0] not in school_literature_for_lower:

                str_for_sending = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {authorforsearching[0]} –ê–≤—Ç–æ—Ä: {authorforsearching[1]} –ì–æ–¥: {authorforsearching[2]}'
                list_for_sending.append(str_for_sending)

        if len(list_for_sending) <= 5:
            for books_for_sending in list_for_sending:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorexit:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending) > 5:

            having_amount = len(list_for_sending)


            for number in range(having_amount):
                having_data_amount.append(number)

            for random_amount in range(1, 6):
                random_number = random.choice(having_data_amount)
                having_data_amount.remove(random_number)

                bot.send_message(message.chat.id, f'{list_for_sending[random_number]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_authors)

    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button997 in authors:
            markup.add(types.KeyboardButton(button997))

        msd = bot.send_message(message.chat.id,
                               '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞ –∑–∞–Ω–æ–≤–æ:'.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_authors)


# –¶–∏–∫–ª –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º
def cycle_for_authors(message):
    if message.text == '–î–∞!':

        if len(having_data_amount) > 5:

            for random_amount in range(1, 6):
                random_nuber = random.choice(having_data_amount)
                having_data_amount.remove(random_nuber)

                bot.send_message(message.chat.id, f'{list_for_sending[random_nuber]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_authors)

        elif len(having_data_amount) <= 5:

            for known_numbers in having_data_amount:

                bot.send_message(message.chat.id, f'{list_for_sending[known_numbers]}')


            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorexit:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ö–Ω–∏–≥ —ç—Ç–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –±–æ–ª—å—à–µ –Ω–µ—Ç :(\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending.clear()
        having_data_amount.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button3 in yesorexit:
            markup.add(types.KeyboardButton(button3))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)


    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button997 in yesorno:
            markup.add(types.KeyboardButton(button997))

        msd = bot.send_message(message.chat.id,
                               '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_authors)
####################################






#####################################
# –ü–æ–∏—Å–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—Å–∞—Ü–∏—è
def finding_by_time_of_book(message):
    if message.text == '–í–µ–∫':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button5 in centuaries:
            markup.add(types.KeyboardButton(button5))

        msd = bot.send_message(message.chat.id, '–ö–∞–∫–æ–π –≤–µ–∫ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω?'.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_centuary)

    elif message.text == '–ì–æ–¥':

        markup = types.ReplyKeyboardRemove(selective=None)

        msd = bot.send_message(message.chat.id, '–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –≤—Ä—É—á–Ω—É—é: '.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, year_finding)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button5 in time_ways:
            markup.add(types.KeyboardButton(button5))

        msd = bot.send_message(message.chat.id, '–¢–∞–∫ –≤—Å–µ –∂–µ –∫–∞–∫ –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å?\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_time_of_book)

# –ü–æ–∏—Å–∫ –ø–æ –≤–µ–∫–∞–º
def finding_by_centuary(message):
    if message.text == "XX":

        centuaryyy = '9'

        for yearsearchingin19 in list_of_all_books:

            yearsearchingin19 = yearsearchingin19.split('%')

            if centuaryyy in yearsearchingin19[2][1]:
                if yearsearchingin19[0] not in school_literature_for_high:
                    if yearsearchingin19[0] not in school_literature_for_middle:
                        if yearsearchingin19[-1] != '–°–ö–ê–ó–ö–ê' or yearsearchingin19[0] in not_school_literature:
                            list_for_sending_years.append(
                                f'–ù–∞–∑–≤–∞–Ω–∏–µ: {yearsearchingin19[0]} –ê–≤—Ç–æ—Ä: {yearsearchingin19[1]} –ì–æ–¥: {yearsearchingin19[2]}')

        if len(list_for_sending_years) <= 5:
            for books_for_sending1 in list_for_sending_years:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending1}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button5 in yesorexit:
                markup.add(types.KeyboardButton(button5))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)
            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_years) > 5:

            having_amount_years = len(list_for_sending_years)

            for number1 in range(having_amount_years):
                having_data_amount_years.append(number1)

            for random_amount1 in range(1, 6):
                random_number1 = random.choice(having_data_amount_years)
                having_data_amount_years.remove(random_number1)

                bot.send_message(message.chat.id, f'{list_for_sending_years[random_number1]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_centuaries)

    elif message.text == 'XIX':

        centuaryyy = '8'

        for yearsearchingin19 in list_of_all_books:

            yearsearchingin19 = yearsearchingin19.split('%')

            if centuaryyy in yearsearchingin19[2][1]:
                if yearsearchingin19[0] not in school_literature_for_high:
                    if yearsearchingin19[0] not in school_literature_for_middle:
                        if yearsearchingin19[-1] != '–°–ö–ê–ó–ö–ê' or yearsearchingin19[0] in not_school_literature:
                            list_for_sending_years.append(f'–ù–∞–∑–≤–∞–Ω–∏–µ: {yearsearchingin19[0]} –ê–≤—Ç–æ—Ä: {yearsearchingin19[1]} –ì–æ–¥: {yearsearchingin19[2]}')

        if len(list_for_sending_years) <= 5:
            for books_for_sending1 in list_for_sending_years:
                bot.send_message(message.chat.id, f'{books_for_sending1}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button5 in yesorexit:
                markup.add(types.KeyboardButton(button5))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                               reply_markup=markup)
            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_years) > 5:

            having_amount_years = len(list_for_sending_years)

            for number1 in range(having_amount_years):
                having_data_amount_years.append(number1)

            for random_amount1 in range(1, 6):
                random_number1 = random.choice(having_data_amount_years)
                having_data_amount_years.remove(random_number1)

                bot.send_message(message.chat.id, f'{list_for_sending_years[random_number1]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_centuaries)


    elif message.text == 'XVIII':

        centuaryyy = '7'

        for centuarypoisk in list_of_all_books:

            centuarypoisk = centuarypoisk.split('%')

            if centuaryyy in centuarypoisk[2][1]:
                list_for_sending_years.append(f'–ù–∞–∑–≤–∞–Ω–∏–µ: {centuarypoisk[0]} –ê–≤—Ç–æ—Ä: {centuarypoisk[1]} –ì–æ–¥: {centuarypoisk[2]}')

        if len(list_for_sending_years) <= 5:
            for books_for_sending1 in list_for_sending_years:
                bot.send_message(message.chat.id, f'{books_for_sending1}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button5 in yesorexit:
                markup.add(types.KeyboardButton(button5))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                               reply_markup=markup)
            bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button9 in centuaries:
            markup.add(types.KeyboardButton(button9))

        msd = bot.send_message(message.chat.id, '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã —ç—Ç–æ–≥–æ –≤–µ–∫–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç...\n–í–≤–µ–¥–∏—Ç–µ –≤–µ–∫ –∑–∞–Ω–æ–≤–æ: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, finding_by_centuary)

# –¶–∏–∫–ª –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤–µ–∫–∞–º
def cycle_for_centuaries(message):
    if message.text == '–î–∞!':

        if len(having_data_amount_years) > 5:

            for random_amount1 in range(1, 6):
                random_nuber1 = random.choice(having_data_amount_years)
                having_data_amount_years.remove(random_nuber1)

                bot.send_message(message.chat.id, f'{list_for_sending_years[random_nuber1]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button3 in yesorno:
                markup.add(types.KeyboardButton(button3))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_centuaries)

        elif len(having_data_amount_years) <= 5:

            for known_numbers1 in having_data_amount_years:
                bot.send_message(message.chat.id, f'{list_for_sending_years[known_numbers1]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button996 in yesorexit:
                markup.add(types.KeyboardButton(button996))

            msd = bot.send_message(message.chat.id,
                                   '–ö–Ω–∏–≥ —ç—Ç–æ–≥–æ –≤–µ–∫–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –±–æ–ª—å—à–µ –Ω–µ—Ç :(\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(
                                       message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)


    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_years.clear()
        having_data_amount_years.clear()

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button996 in yesorexit:
            markup.add(types.KeyboardButton(button996))

        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button996 in yesorno:
            markup.add(types.KeyboardButton(button996))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_centuaries)

# –ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≥–æ–¥—É
def year_finding(message):

    yearproblem = message.text
    if yearproblem[0] == '1' and yearproblem[1] in chisla and yearproblem[2] in chisla and yearproblem[3] in chisla and len(yearproblem) == 4:

        year = message.text
        for searchingyear in list_of_all_books:
            searchingyear = searchingyear.split('%')
            if year in searchingyear[2]:
                year_str = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {searchingyear[0]} –ê–≤—Ç–æ—Ä: {searchingyear[1]} –ì–æ–¥: {searchingyear[2]}'
                year_amounts.append(year_str)

        if len(year_amounts) == 0:

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button15 in vernutsa:
                markup.add(types.KeyboardButton(button15))

            msd = bot.send_message(message.chat.id, '–ö–Ω–∏–≥ —Ç–∞–∫–æ–≥–æ –≥–æ–¥–∞ –≤ –Ω–∞—à–µ–π –±–∏—é–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç :(\n–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–ª–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –º–µ–Ω—é'.format(message.from_user),
                                   reply_markup=markup)
            bot.register_next_step_handler(msd, year_finding)

        elif len(year_amounts) > 0:

            for yearnumbers in year_amounts:

                bot.send_message(message.chat.id, f'{yearnumbers}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button15 in yesorexit:
                markup.add(types.KeyboardButton(button15))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)
            bot.register_next_step_handler(msd, end_question)

            year_amounts.clear()

    elif message.text == '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é':
        start1(message)


    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        msd = bot.send_message(message.chat.id,
                               '–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ :(\n–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –∑–∞–Ω–æ–≤–æ: '.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, year_finding)
######################################





#####################################
# –ü–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—Å–∞—Ü–∏—è
def type_of_literature(message):
    if message.text == '–≠–ø–æ—Å':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button5 in jounre_epos_types:
            markup.add(types.KeyboardButton(button5))

        msd = bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–µ—Ç–µ –∂–∞–Ω—Ä: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, jounres_of_epos)

    elif message.text == '–î—Ä–∞–º–∞':

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button5 in jounre_drama_types:
            markup.add(types.KeyboardButton(button5))

        msd = bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–µ—Ç–µ –∂–∞–Ω—Ä: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, jounres_of_drama)

    elif message.text == '–õ–∏—Ä–∏–∫–∞':

        lyrica_as_way = message.text
        lyrica_as_way = lyrica_as_way.upper()

        for lyricasearching in list_of_all_books:
            lyricasearching = lyricasearching.split('%')

            if lyrica_as_way in lyricasearching[-2]:

                str_for_sending_lyrica = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {lyricasearching[0]} –ê–≤—Ç–æ—Ä: {lyricasearching[1]} –ì–æ–¥: {lyricasearching[2]}'
                list_for_sending_jounres.append(str_for_sending_lyrica)

        if len(list_for_sending_jounres) <= 5:
            for books_for_sending_lyrica in list_for_sending_jounres:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_lyrica}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button7 in yesorexit:
                markup.add(types.KeyboardButton(button7))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_jounres) > 5:

            having_amount_lyrica = len(list_for_sending_jounres)

            for number_lyrica in range(having_amount_lyrica):
                having_data_amount_jounres.append(number_lyrica)

            for random_amount_lyrica in range(1, 6):
                random_number_lyrica = random.choice(having_data_amount_jounres)
                having_data_amount_jounres.remove(random_number_lyrica)

                bot.send_message(message.chat.id, f'{list_for_sending_jounres[random_number_lyrica]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button7 in yesorno:
                markup.add(types.KeyboardButton(button7))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_lyrica)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button7 in jounre_ways:
            markup.add(types.KeyboardButton(button7))

        msd = bot.send_message(message.chat.id, '–¢–∞–∫–æ–≥–æ —Ä–æ–¥–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –Ω–µ—Ç!\n–í–≤–µ–¥–∏—Ç–µ —Ä–æ–¥ –∑–∞–Ω–æ–≤–æ: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, type_of_literature)

# –¶–∏–∫–ª –¥–ª—è –õ–∏—Ä–∏–∫–∏
def cycle_for_lyrica(message):

    if message.text == '–î–∞!':

        if len(having_data_amount_jounres) > 5:

            for random_amount_lyrica in range(1, 6):
                random_number_lyrica = random.choice(having_data_amount_jounres)
                having_data_amount_jounres.remove(random_number_lyrica)

                bot.send_message(message.chat.id, f'{list_for_sending_jounres[random_number_lyrica]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button993 in yesorno:
                markup.add(types.KeyboardButton(button993))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_lyrica)

        elif len(having_data_amount_jounres) <=5:

            for known_lyricanumbers in having_data_amount_jounres:

                bot.send_message(message.chat.id, f'{list_for_sending_jounres[known_lyricanumbers]}')

            list_for_sending_jounres.clear()
            having_data_amount_jounres.clear()

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button993 in yesorexit:
                markup.add(types.KeyboardButton(button993))

            msd = bot.send_message(message.chat.id, '–ë–æ–ª—å—à–µ –∫–Ω–∏–≥ —ç—Ç–æ–≥–æ –∂–∞–Ω—Ä–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç :(\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_jounres.clear()
        having_data_amount_jounres.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button993 in yesorexit:
            markup.add(types.KeyboardButton(button993))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button993 in yesorno:
            markup.add(types.KeyboardButton(button993))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_lyrica)


# –ü–æ–∏—Å–∫ –¥–ª—è –≠–ø–æ—Å–∞
def jounres_of_epos(message):

    if message.text == '–†–æ–º–∞–Ω':

        roman_as_way = message.text
        roman_as_way = roman_as_way.upper()

        for romansearching in list_of_all_books:
            romansearching = romansearching.split('%')

            if roman_as_way in romansearching[-1]:
                str_for_sending_roman = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {romansearching[0]} –ê–≤—Ç–æ—Ä: {romansearching[1]} –ì–æ–¥: {romansearching[2]}'
                list_for_sending_epos.append(str_for_sending_roman)

        if len(list_for_sending_epos) <= 5:
            for books_for_sending_epos in list_for_sending_epos:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_epos}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorexit:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_epos) > 5:

            having_amount_epos = len(list_for_sending_epos)

            for number_epos in range(having_amount_epos):
                having_data_amount_epos.append(number_epos)

            for random_amount_epos in range(1, 6):
                random_number_epos = random.choice(having_data_amount_epos)
                having_data_amount_epos.remove(random_number_epos)

                bot.send_message(message.chat.id, f'{list_for_sending_epos[random_number_epos]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorno:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)

    elif message.text == '–†–∞—Å—Å–∫–∞–∑':

        roman_as_way = message.text
        roman_as_way = roman_as_way.upper()

        for romansearching in list_of_all_books:
            romansearching = romansearching.split('%')

            if roman_as_way in romansearching[-1]:
                str_for_sending_roman = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {romansearching[0]} –ê–≤—Ç–æ—Ä: {romansearching[1]} –ì–æ–¥: {romansearching[2]}'
                list_for_sending_epos.append(str_for_sending_roman)

        if len(list_for_sending_epos) <= 5:
            for books_for_sending_epos in list_for_sending_epos:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_epos}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorexit:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_epos) > 5:

            having_amount_epos = len(list_for_sending_epos)

            for number_epos in range(having_amount_epos):
                having_data_amount_epos.append(number_epos)

            for random_amount_epos in range(1, 6):
                random_number_epos = random.choice(having_data_amount_epos)
                having_data_amount_epos.remove(random_number_epos)

                bot.send_message(message.chat.id, f'{list_for_sending_epos[random_number_epos]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorno:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)

    elif message.text == '–ü–æ–≤–µ—Å—Ç—å':

        povest_as_way = message.text
        povest_as_way = povest_as_way.upper()

        for povestsearching in list_of_all_books:
            povestsearching = povestsearching.split('%')

            if povest_as_way in povestsearching[-1]:
                str_for_sending_povest = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {povestsearching[0]} –ê–≤—Ç–æ—Ä: {povestsearching[1]} –ì–æ–¥: {povestsearching[2]}'
                list_for_sending_epos.append(str_for_sending_povest)

        if len(list_for_sending_epos) <= 5:
            for books_for_sending_epos in list_for_sending_epos:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_epos}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorexit:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_epos) > 5:

            having_amount_epos = len(list_for_sending_epos)

            for number_epos in range(having_amount_epos):
                having_data_amount_epos.append(number_epos)

            for random_amount_epos in range(1, 6):
                random_number_epos = random.choice(having_data_amount_epos)
                having_data_amount_epos.remove(random_number_epos)

                bot.send_message(message.chat.id, f'{list_for_sending_epos[random_number_epos]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorno:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)

    elif message.text == '–°–∫–∞–∑–∫–∞':

        skazka_as_way = message.text
        skazka_as_way = skazka_as_way.upper()

        for skazkasearching in list_of_all_books:
            skazkasearching = skazkasearching.split('%')

            if skazka_as_way in skazkasearching[-1] and skazkasearching[0] in not_school_literature:
                str_for_sending_povest = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {skazkasearching[0]} –ê–≤—Ç–æ—Ä: {skazkasearching[1]} –ì–æ–¥: {skazkasearching[2]}'
                list_for_sending_epos.append(str_for_sending_povest)

        if len(list_for_sending_epos) <= 5:
            for books_for_sending_epos in list_for_sending_epos:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_epos}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorexit:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_epos) > 5:

            having_amount_epos = len(list_for_sending_epos)

            for number_epos in range(having_amount_epos):
                having_data_amount_epos.append(number_epos)

            for random_amount_epos in range(1, 6):
                random_number_epos = random.choice(having_data_amount_epos)
                having_data_amount_epos.remove(random_number_epos)

                bot.send_message(message.chat.id, f'{list_for_sending_epos[random_number_epos]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button11 in yesorno:
                markup.add(types.KeyboardButton(button11))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button11 in jounre_epos_types:
            markup.add(types.KeyboardButton(button11))

        msd = bot.send_message(message.chat.id, '–¢–∞–∫–æ–≥–æ –∂–∞–Ω—Ä–∞ –Ω–µ—Ç!\n–í–≤–µ–¥–∏—Ç–µ –∂–∞–Ω—Ä –∑–∞–Ω–æ–≤–æ: '.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, jounres_of_epos)

# –¶–∏–∫–ª –¥–ª—è –≠–ø–æ—Å–∞
def cycle_for_jounres_of_epos(message):

    if message.text == '–î–∞!':

        if len(having_data_amount_epos) > 5:

            for random_amount_epos in range(1, 6):
                random_number_epos = random.choice(having_data_amount_epos)
                having_data_amount_epos.remove(random_number_epos)

                bot.send_message(message.chat.id, f'{list_for_sending_epos[random_number_epos]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button992 in yesorno:
                markup.add(types.KeyboardButton(button992))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)

        elif len(having_data_amount_epos) <= 5:

            for known_eposnumbers in having_data_amount_epos:

                bot.send_message(message.chat.id, f'{list_for_sending_epos[known_eposnumbers]}')

            list_for_sending_epos.clear()
            having_data_amount_epos.clear()

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button992 in yesorexit:
                markup.add(types.KeyboardButton(button992))

            msd = bot.send_message(message.chat.id, '–ë–æ–ª—å—à–µ –∫–Ω–∏–≥ —ç—Ç–æ–≥–æ –∂–∞–Ω—Ä–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç :(\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_epos.clear()
        having_data_amount_epos.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button992 in yesorexit:
            markup.add(types.KeyboardButton(button992))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button992 in yesorno:
            markup.add(types.KeyboardButton(button992))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user),
                               reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_jounres_of_epos)


# –ü–æ–∏—Å–∫ –¥–ª—è –î—Ä–∞–º—ã
def jounres_of_drama(message):

    if message.text == '–î—Ä–∞–º–∞':

        drama_as_way = message.text
        drama_as_way = drama_as_way.upper()

        for dramasearching in list_of_all_books:
            dramasearching = dramasearching.split('%')

            if drama_as_way in dramasearching[-1]:
                str_for_sending_drama = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {dramasearching[0]} –ê–≤—Ç–æ—Ä: {dramasearching[1]} –ì–æ–¥: {dramasearching[2]}'
                list_for_sending_dramatype.append(str_for_sending_drama)

        if len(list_for_sending_dramatype) <= 5:
            for books_for_sending_drama in list_for_sending_dramatype:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_drama}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button13 in yesorexit:
                markup.add(types.KeyboardButton(button13))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_dramatype) > 5:

            having_amount_drama = len(list_for_sending_dramatype)

            for number_drama in range(having_amount_drama):
                having_data_amount_dramatype.append(number_drama)

            for random_amount_drama in range(1, 6):
                random_number_drama = random.choice(having_data_amount_dramatype)
                having_data_amount_dramatype.remove(random_number_drama)

                bot.send_message(message.chat.id, f'{list_for_sending_dramatype[random_number_drama]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button13 in yesorno:
                markup.add(types.KeyboardButton(button13))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_drama)

    elif message.text == '–ö–æ–º–µ–¥–∏—è':

        komedy_as_way = message.text
        komedy_as_way = komedy_as_way.upper()

        for komedysearching in list_of_all_books:
            komedysearching = komedysearching.split('%')

            if komedy_as_way in komedysearching[-1]:
                str_for_sending_komedy = f'–ù–∞–∑–≤–∞–Ω–∏–µ: {komedysearching[0]} –ê–≤—Ç–æ—Ä: {komedysearching[1]} –ì–æ–¥: {komedysearching[2]}'
                list_for_sending_dramatype.append(str_for_sending_komedy)

        if len(list_for_sending_dramatype) <= 5:

            for books_for_sending_drama in list_for_sending_dramatype:
                bot.send_message(message.chat.id,
                                 f'{books_for_sending_drama}\n---------------------------------------')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button13 in yesorexit:
                markup.add(types.KeyboardButton(button13))

            msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

        elif len(list_for_sending_dramatype) > 5:

            having_amount_drama = len(list_for_sending_dramatype)

            for number_drama in range(having_amount_drama):
                having_data_amount_dramatype.append(number_drama)

            for random_amount_drama in range(1, 6):
                random_number_drama = random.choice(having_data_amount_dramatype)
                having_data_amount_dramatype.remove(random_number_drama)

                bot.send_message(message.chat.id, f'{list_for_sending_dramatype[random_number_drama]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button13 in yesorno:
                markup.add(types.KeyboardButton(button13))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_drama)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button13 in jounre_drama_types:
            markup.add(types.KeyboardButton(button13))

        msd = bot.send_message(message.chat.id, '–¢–∞–∫–æ–≥–æ –∂–∞–Ω—Ä–∞ –Ω–µ—Ç!\n–í–≤–µ–¥–∏—Ç–µ –∂–∞–Ω—Ä –∑–∞–Ω–æ–≤–æ: '.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, jounres_of_drama)

# –¶–∏–∫–ª –¥–ª—è –¥—Ä–∞–º—ã
def cycle_for_jounres_of_drama(message):

    if message.text == '–î–∞!':

        if len(having_data_amount_dramatype) > 5:

            for random_amount_drama in range(1, 6):
                random_number_drama = random.choice(having_data_amount_dramatype)
                having_data_amount_dramatype.remove(random_number_drama)

                bot.send_message(message.chat.id, f'{list_for_sending_dramatype[random_number_drama]}')

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button991 in yesorno:
                markup.add(types.KeyboardButton(button991))

            msd = bot.send_message(message.chat.id, '–ï—â—ë?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, cycle_for_jounres_of_drama)

        elif len(having_data_amount_dramatype) <=5:

            for known_dramanumbers in having_data_amount_dramatype:

                bot.send_message(message.chat.id, f'{list_for_sending_dramatype[known_dramanumbers]}')

            list_for_sending_dramatype.clear()
            having_data_amount_dramatype.clear()

            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

            for button991 in yesorexit:
                markup.add(types.KeyboardButton(button991))

            msd = bot.send_message(message.chat.id, '–ë–æ–ª—å—à–µ –∫–Ω–∏–≥ —ç—Ç–æ–≥–æ –∂–∞–Ω—Ä–∞ –≤ –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç :(\n–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é?'.format(message.from_user),
                                   reply_markup=markup)

            bot.register_next_step_handler(msd, end_question)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':

        list_for_sending_dramatype.clear()
        having_data_amount_dramatype.clear()
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button991 in yesorexit:
            markup.add(types.KeyboardButton(button991))
        msd = bot.send_message(message.chat.id, '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?'.format(message.from_user), reply_markup=markup)

        bot.register_next_step_handler(msd, end_question)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button991 in yesorno:
            markup.add(types.KeyboardButton(button991))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, cycle_for_jounres_of_drama)
#######################################






# –ó–∞–≤–µ—Ä—à–∞—é—â–∏–π –≤–æ–ø—Ä–æ—Å: –≤—ã—Ö–æ–¥ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
def end_question(message):
    if message.text == '–î–∞!':
        start1(message)

    elif message.text == '–í–µ—Ä–Ω—É—Ç—å—Å—è':
        start1(message)

    elif message.text == '–ù–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ':
        bot.send_message(message.chat.id, '–ü—Ä–∏—è—Ç–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è!'.format(message.from_user))

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button999 in commandstart:
            markup.add(types.KeyboardButton(button999))

        msd = bot.send_message(message.chat.id, '–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–º–∏—Ç–µ ¬´/start¬ª'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, the_repeated_start)

    elif message.text == '–ù–µ—Ç, –ø–æ–π–¥—É —á–∏—Ç–∞—Ç—å':

        bot.send_message(message.chat.id, '–ü—Ä–∏—è—Ç–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è!'.format(message.from_user))

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button999 in commandstart:
            markup.add(types.KeyboardButton(button999))

        msd = bot.send_message(message.chat.id, '–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–º–∏—Ç–µ ¬´/start¬ª'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, the_repeated_start)

    else:

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button999 in yesorexit:
            markup.add(types.KeyboardButton(button999))

        msd = bot.send_message(message.chat.id, '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, end_question)

# –§—É–Ω–∫—Ü–∏—è –¥–¥—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
def the_repeated_start(message):
    if message.text == '/start':
        start1(message)

    else:
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)

        for button998 in commandstart:
            markup.add(types.KeyboardButton(button998))

        msd = bot.send_message(message.chat.id,
                               '–Ø ‚Äì —Ä–æ–±–æ—Ç.\n–ü–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥...\n–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∑–∞–Ω–æ–≤–æ:'.format(
                                   message.from_user), reply_markup=markup)
        bot.register_next_step_handler(msd, the_repeated_start)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
bot.polling(none_stop=True)